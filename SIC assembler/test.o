COPY    START   1000FIRST   STL     RETADRCLOOP   SUB    RDREC        LDA  	LENGTH        COMP 	ZERO        Q  	ENDFIL        SUB 	WRREC               CLOOPENDFIL  LDA  	EOF         STA  	BUFFER         LDA  	THREE         STA  	LENGTH         SUB 	WRREC         LDL          RSUB 	RETADR EOF     BYTE 	C'EOF' THREE   WORD 	3 ZERO    WORD 	0 RETADR  RESW 	1 LENGTH  RESW 	1 BUFFER  RESB 	4096 RDREC   LDX     ZERO         LDA     ZERO RLOOP   TD      INPUT         Q     RLOOP         RD      INPUT         COMP    ZERO         Q     EXIT         STCH    BUFFER,X         TIX     MAXLEN         LT     RLOOP EXIT    STX     LENGTH         RSUB INPUT   BYTE    X'F1'MAXLEN  WORD    4096WRREC   LDX     ZERO WLOOP   TD      OUTPUT         Q     WLOOP         LDCH    BUFFER,X         WD      OUTPUT         TIX     LENGTH         LT     WLOOP         RSUB    OUTPUT  BYTE    X'05'END     FIRST